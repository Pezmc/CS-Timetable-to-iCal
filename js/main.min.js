/*!
 * jQuery Steps v1.0.4 - 12/17/2013
 * Copyright (c) 2013 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
;!function(a4,a3){function a2(d,c){aQ(d).push(c)}function a1(p,o,n){var m=p.children(o.headerTag),l=p.children(o.bodyTag);m.length>l.length?aj(aa,"contents"):m.length<l.length&&aj(aa,"titles");var c=o.startIndex;if(n.stepCount=m.length,o.saveState&&a4.cookie){var b=a4.cookie(ag+aO(p)),a=parseInt(b,0);!isNaN(a)&&a<n.stepCount&&(c=a)}n.currentIndex=c,m.each(function(v){var u=a4(this),t=l.eq(v),s=t.data("mode"),r=null==s?aD.html:aN(aD,/^\s*$/.test(s)||isNaN(s)?s:parseInt(s,0)),q=r===aD.html||t.data("url")===a3?"":t.data("url"),h=r!==aD.html&&"1"===t.data("loaded"),d=a4.extend({},a5,{title:u.html(),content:r===aD.html?t.html():"",contentUrl:q,contentMode:r,contentLoaded:h});a2(p,d)})}function a0(d,c){return d.currentIndex-c}function aZ(a,l){var k=aW(a);a.unbind(k).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(k),a.removeClass(l.clearFixCssClass+" vertical");var j=a.find(".content > *");j.removeData("loaded").removeData("mode").removeData("url"),j.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),a.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var i=a4(aX('<{0} class="{1}"></{0}>',a.get(0).tagName,a.attr("class"))),h=a._getId();return null!=h&&""!==h&&i._setId(h),i.html(a.find(".content").html()),a.after(i),a.remove(),i}function aY(e,d){var f=e.find(".steps li").eq(d.currentIndex);e.triggerHandler("finishing",[d.currentIndex])?(f.addClass("done").removeClass("error"),e.triggerHandler("finished",[d.currentIndex])):f.addClass("error")}function aX(f){for(var e=1;e<arguments.length;e++){var h=e-1,g=new RegExp("\\{"+h+"\\}","gm");f=f.replace(g,arguments[e])}return f}function aW(d){var c=d.data("eventNamespace");return null==c&&(c="."+aO(d),d.data("eventNamespace",c)),c}function aV(e,d){var f=aO(e);return e.find("#"+f+af+d)}function aU(e,d){var f=aO(e);return e.find("#"+f+ae+d)}function aT(e,d){var f=aO(e);return e.find("#"+f+ad+d)}function aS(b){return b.data("options")}function aR(b){return b.data("state")}function aQ(b){return b.data("steps")}function aP(e,d){var f=aQ(e);return(0>d||d>=f.length)&&aj(ac),f[d]}function aO(d){var c=d.data("uid");return null==c&&(c=d._getId(),null==c&&(c="steps-uid-".concat(ah),d._setId(c)),ah++,d.data("uid",c)),c}function aN(b,h){if(ai("enumType",b),ai("keyOrValue",h),"string"==typeof h){var g=b[h];return g===a3&&aj("The enum key '{0}' does not exist.",h),g}if("number"==typeof h){for(var f in b){if(b[f]===h){return h}}aj("Invalid enum value '{0}'.",h)}else{aj("Invalid key or value type.")}}function aM(e,d,f){return aA(e,d,f,aJ(f,1))}function aL(e,d,f){return aA(e,d,f,a0(f,1))}function aK(g,f,j,i){if((0>i||i>=j.stepCount)&&aj(ac),!(f.forceMoveForward&&i<j.currentIndex)){var h=j.currentIndex;return g.triggerHandler("stepChanging",[j.currentIndex,i])?(j.currentIndex=i,am(g,f,j),ax(g,f,j,h),ay(g,f,j),aC(g,f,j),al(g,f,j,i,h),g.triggerHandler("stepChanged",[i,h])):g.find(".steps li").eq(h).addClass("error"),!0}}function aJ(d,c){return d.currentIndex+c}function aI(a){var d=a4.extend(!0,{},aE,a);return this.each(function(){var c=a4(this),f={currentIndex:d.startIndex,currentStep:null,stepCount:0,transitionElement:null};c.data("options",d),c.data("state",f),c.data("steps",[]),a1(c,d,f),ar(c,d,f),av(c,d),d.autoFocus&&0===ah&&aV(c,d.startIndex).focus()})}function aH(a,p,o,n,m){(0>n||n>o.stepCount)&&aj(ac),m=a4.extend({},a5,m),aG(a,n,m),o.currentIndex>=n&&(o.currentIndex++,am(a,p,o)),o.stepCount++;var l=a.find(".content"),k=a4(aX("<{0}>{1}</{0}>",p.headerTag,m.title)),h=a4(aX("<{0}></{0}>",p.bodyTag));return(null==m.contentMode||m.contentMode===aD.html)&&h.html(m.content),0===n?l.prepend(h).prepend(k):aU(a,n-1).after(h).after(k),aq(a,h,n),an(a,p,o,k,n),aw(a,p,o,n),ay(a,p,o),a}function aG(e,d,f){aQ(e).splice(d,0,f)}function aF(a){var j=a4(this),i=aS(j),h=aR(j);if(i.suppressPaginationOnFocus&&j.find(":focus").is(":input")){return a.preventDefault(),!1}var g={left:37,right:39};a.keyCode===g.left?(a.preventDefault(),aL(j,i,h)):a.keyCode===g.right&&(a.preventDefault(),aM(j,i,h))}function aC(a,j,i){if(i.stepCount>0){var h=aP(a,i.currentIndex);if(!j.enableContentCache||!h.contentLoaded){switch(aN(aD,h.contentMode)){case aD.iframe:a.find(".content > .body").eq(i.currentIndex).empty().html('<iframe src="'+h.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case aD.async:var g=aU(a,i.currentIndex)._aria("busy","true").empty().append(ao(j.loadingTemplate,{text:j.labels.loading}));a4.ajax({url:h.contentUrl,cache:!1}).done(function(b){g.empty().html(b)._aria("busy","false").data("loaded","1")})}}}}function aA(j,i,p,o){var n=p.currentIndex;if(o>=0&&o<p.stepCount&&!(i.forceMoveForward&&o<p.currentIndex)){var m=aV(j,o),l=m.parent(),k=l.hasClass("disabled");return l._enableAria(),m.click(),n===p.currentIndex&&k?(l._disableAria(),!1):!0}return !1}function az(a){a.preventDefault();var l=a4(this),k=l.parent().parent().parent().parent(),j=aS(k),i=aR(k),g=l.attr("href");switch(g.substring(g.lastIndexOf("#"))){case"#finish":aY(k,i);break;case"#next":aM(k,j,i);break;case"#previous":aL(k,j,i)}}function ay(h,g,l){if(g.enablePagination){var k=h.find(".actions a[href$='#finish']").parent(),j=h.find(".actions a[href$='#next']").parent();if(!g.forceMoveForward){var i=h.find(".actions a[href$='#previous']").parent();l.currentIndex>0?i._enableAria():i._disableAria()}g.enableFinishButton&&g.showFinishButtonAlways?0===l.stepCount?(k._disableAria(),j._disableAria()):l.stepCount>1&&l.stepCount>l.currentIndex+1?(k._enableAria(),j._enableAria()):(k._enableAria(),j._disableAria()):0===l.stepCount?(k._hideAria(),j._showAria()._disableAria()):l.stepCount>l.currentIndex+1?(k._hideAria(),j._showAria()._enableAria()):g.enableFinishButton?(k._showAria(),j._hideAria()):j._disableAria()}}function ax(a,p,o,n){var m=aV(a,o.currentIndex),l=a4('<span class="current-info audible">'+p.labels.current+" </span>"),k=a.find(".content > .title");if(null!=n){var j=aV(a,n);j.parent().addClass("done").removeClass("error")._deselectAria(),k.eq(n).removeClass("current").next(".body").removeClass("current"),l=j.find(".current-info"),m.focus()}m.prepend(l).parent()._selectAria().removeClass("done")._enableAria(),k.eq(o.currentIndex).addClass("current").next(".body").addClass("current")}function aw(t,s,r,q){for(var p=aO(t),o=q;o<r.stepCount;o++){var n=p+af+o,m=p+ae+o,l=p+ad+o,k=t.find(".title").eq(o)._setId(l);t.find(".steps a").eq(o)._setId(n)._aria("controls",m).attr("href","#"+l).html(ao(s.titleTemplate,{index:o+1,title:k.html()})),t.find(".body").eq(o)._setId(m)._aria("labelledby",l)}}function av(e,d){var f=aW(e);e.bind("finishing"+f,d.onFinishing),e.bind("finished"+f,d.onFinished),e.bind("stepChanging"+f,d.onStepChanging),e.bind("stepChanged"+f,d.onStepChanged),d.enableKeyNavigation&&e.bind("keyup"+f,aF),e.find(".actions a").bind("click"+f,az)}function au(f,e,h,g){return 0>g||g>=h.stepCount||h.currentIndex===g?!1:(at(f,g),h.currentIndex>g&&(h.currentIndex--,am(f,e,h)),h.stepCount--,aT(f,g).remove(),aU(f,g).remove(),aV(f,g).parent().remove(),0===g&&f.find(".steps li").first().addClass("first"),g===h.stepCount&&f.find(".steps li").eq(g).addClass("last"),aw(f,e,h,g),ay(f,e,h),!0)}function at(d,c){aQ(d).splice(c,1)}function ar(t,s,r){var q='<{0} class="{1}">{2}</{0}>',p=aN(a6,s.stepsOrientation),o=p===a6.vertical?" vertical":"",n=a4(aX(q,s.contentContainerTag,"content "+s.clearFixCssClass,t.html())),m=a4(aX(q,s.stepsContainerTag,"steps "+s.clearFixCssClass,'<ul role="tablist"></ul>')),h=n.children(s.headerTag),a=n.children(s.bodyTag);t.attr("role","application").empty().append(m).append(n).addClass(s.cssClass+" "+s.clearFixCssClass+o),a.each(function(b){aq(t,a4(this),b)}),a.eq(r.currentIndex)._showAria(),h.each(function(b){an(t,s,r,a4(this),b)}),ax(t,s,r),ap(t,s,r)}function aq(h,g,l){var k=aO(h),j=k+ae+l,i=k+ad+l;g._setId(j).attr("role","tabpanel")._aria("labelledby",i).addClass("body")._hideAria()}function ap(h,g,l){if(g.enablePagination){var k='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',j='<li><a href="#{0}" role="menuitem">{1}</a></li>',i="";g.forceMoveForward||(i+=aX(j,"previous",g.labels.previous)),i+=aX(j,"next",g.labels.next),g.enableFinishButton&&(i+=aX(j,"finish",g.labels.finish)),h.append(aX(k,g.actionContainerTag,g.clearFixCssClass,g.labels.pagination,i)),ay(h,g,l),aC(h,g,l)}}function ao(b,l){for(var k=b.match(/#([a-z]*)#/gi),j=0;j<k.length;j++){var i=k[j],h=i.substring(1,i.length-1);l[h]===a3&&aj("The key '{0}' does not exist in the substitute collection!",h),b=b.replace(i,l[h])}return b}function an(x,w,v,u,t){var s=aO(x),r=s+af+t,q=s+ae+t,p=s+ad+t,o=x.find(".steps > ul"),i=ao(w.titleTemplate,{index:t+1,title:u.html()}),a=a4('<li role="tab"><a id="'+r+'" href="#'+p+'" aria-controls="'+q+'">'+i+"</a></li>");w.enableAllSteps||a._disableAria(),v.currentIndex>t&&a._enableAria().addClass("done"),u._setId(p).attr("tabindex","-1").addClass("title"),0===t?o.prepend(a):o.find("li").eq(t-1).after(a),0===t&&o.find("li").removeClass("first").eq(t).addClass("first"),t===v.stepCount-1&&o.find("li").removeClass("last").eq(t).addClass("last"),a.children("a").bind("click"+aW(x),ak)}function am(a,f,e){f.saveState&&a4.cookie&&a4.cookie(ag+aO(a),e.currentIndex)}function al(D,C,B,A,z){var y=D.find(".content > .body"),x=aN(aB,C.transitionEffect),w=C.transitionEffectSpeed,v=y.eq(A),u=y.eq(z);switch(x){case aB.fade:case aB.slide:var t=x===aB.fade?"fadeOut":"slideUp",s=x===aB.fade?"fadeIn":"slideDown";B.transitionElement=v,u[t](w,function(){var d=a4(this)._hideAria().parent().parent(),e=aR(d);e.transitionElement&&(e.transitionElement[s](w,function(){a4(this)._showAria()}),e.transitionElement=null)}).promise();break;case aB.slideLeft:var r=u.outerWidth(!0),n=A>z?-r:r,a=A>z?r:-r;u.animate({left:n},w,function(){a4(this)._hideAria()}).promise(),v.css("left",a+"px")._showAria().animate({left:0},w).promise();break;default:u._hideAria(),v._showAria()}}function ak(a){a.preventDefault();var p=a4(this),o=p.parent().parent().parent().parent(),n=aS(o),m=aR(o),l=m.currentIndex;if(p.parent().is(":not(.disabled):not(.current)")){var k=p.attr("href"),j=parseInt(k.substring(k.lastIndexOf("-")+1),0);aK(o,n,m,j)}return l===m.currentIndex?(aV(o,l).focus(),!1):void 0}function aj(b){throw arguments.length>1&&(b=aX.apply(this,arguments)),new Error(b)}function ai(d,c){null==c&&aj("The argument '{0}' is null or undefined.",d)}var ah=0,ag="jQu3ry_5teps_St@te_",af="-t-",ae="-p-",ad="-h-",ac="Index out of range.",aa="One or more corresponding step {0} are missing.";a4.fn.steps=function(a){return a4.fn.steps[a]?a4.fn.steps[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?(a4.error("Method "+a+" does not exist on jQuery.steps"),void 0):aI.apply(this,arguments)},a4.fn.steps.add=function(e){var d=aS(this),f=aR(this);return aH(this,d,f,f.stepCount,e)},a4.fn.steps.destroy=function(){var b=aS(this);return aZ(this,b)},a4.fn.steps.finish=function(){var b=aR(this);aY(this,b)},a4.fn.steps.getCurrentIndex=function(){return aR(this).currentIndex},a4.fn.steps.getCurrentStep=function(){return aP(this,aR(this).currentIndex)},a4.fn.steps.getStep=function(b){return aP(this,b)},a4.fn.steps.insert=function(f,e){var h=aS(this),g=aR(this);return aH(this,h,g,f,e)},a4.fn.steps.next=function(){var d=aS(this),c=aR(this);return aM(this,d,c)},a4.fn.steps.previous=function(){var d=aS(this),c=aR(this);return aL(this,d,c)},a4.fn.steps.remove=function(e){var d=aS(this),f=aR(this);return au(this,d,f,e)},a4.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},a4.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var aD=a4.fn.steps.contentMode={html:0,iframe:1,async:2},a6=a4.fn.steps.stepsOrientation={horizontal:0,vertical:1},aB=a4.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},a5=a4.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:aD.html,contentLoaded:!1},aE=a4.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:a6.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:aB.none,transitionEffectSpeed:200,onStepChanging:function(){return !0},onStepChanged:function(){},onFinishing:function(){return !0},onFinished:function(){},labels:{current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}};a4.fn.extend({_aria:function(d,c){return this.attr("aria-"+d,c)},_removeAria:function(b){return this.removeAttr("aria-"+b)},_enableAria:function(){return this.removeClass("disabled")._aria("disabled","false")},_disableAria:function(){return this.addClass("disabled")._aria("disabled","true")},_hideAria:function(){return this.hide()._aria("hidden","true")},_showAria:function(){return this.show()._aria("hidden","false")},_selectAria:function(){return this.addClass("current")._aria("selected","true")},_deselectAria:function(){return this.removeClass("current")._aria("selected","false")},_getId:function(){return this.attr("id")},_setId:function(b){return this.attr("id",b)}})}(jQuery);
/*!
jQuery.twinkle 0.5.0
http://larsjung.de/twinkle/
MIT License
*/
;!function(d){var g=function(A,w){var p=[].slice,v=jQuery,m=v.extend,k=v.isFunction,y=m({},w),B=function(l,s,r,i){return r=k(r)?r.apply(l,s):r,k(i[r])?i[r].apply(l,s):(v.error('Method "'+r+'" does not exist on jQuery.'+A),void 0)},z=function(){return B(this,p.call(arguments),y.defaultStatic,z)},x=function(a){return k(x[a])?x[a].apply(this,p.call(arguments,1)):B(this,p.call(arguments),y.defaultMethod,x)},q=function(a){a&&(m(z,a.statics),m(x,a.methods)),z.modplug=q};q.prev={statics:v[A],methods:v.fn[A]},q(w),v[A]=z,v.fn[A]=x},j={widthRatio:0.5,heightRatio:0.5,delay:0,gap:0,effect:"splash",effectOptions:void 0,callback:void 0},c={id:void 0,effectOptions:void 0,callback:void 0},h=function(k,l,p,a,m){this.offset={left:k,top:l},this.element=p,this.position={left:a,top:m}},f=function(){var a={};this.add=function(e){return a[e.id]||(a[e.id]=e),this},this.remove=function(e){return a[e]?delete a[e]:e.id&&a[e.id]&&delete a[e.id],this},this.twinkle=function(k,m){var l=d.extend({},j,m),e=a[l.effect];return e&&(k.element=k.element||"body",e.run(k,l.effectOptions,function(){l.callback()})),this},this.stop=function(l,k){var i=d.extend({},c,k),e=a[i.effect];return e&&(l.element=l.element||"body",e.stop(l,i.effectOptions,i.callback)),this},this.twinkleAtElement=function(v,o){var k=d.extend({},j,o),y=d(v),A=y.offset(),z=y.position(),x=y.outerWidth(!0),n=y.outerHeight(!0),w=A.left+x*k.widthRatio,t=A.top+n*k.heightRatio,q=z.left+x*k.widthRatio,m=z.top+n*k.heightRatio;return this.twinkle(new h(w,t,v,q,m),o)},this.twinkleAtElements=function(q,m){var t=this,p=d.extend({},j,m),k=p.delay,n=d(q),l=n.size();return n.each(function(o){var r=this,i=d.extend({},m);o!==l-1&&delete i.callback,setTimeout(function(){t.twinkleAtElement(r,i)},k),k+=p.gap}),this},this.stopAtElement=function(v,o){var k=d.extend({},j,o),y=d(v),A=y.offset(),z=y.position(),x=y.outerWidth(!0),n=y.outerHeight(!0),w=A.left+x*k.widthRatio,t=A.top+n*k.heightRatio,q=z.left+x*k.widthRatio,m=z.top+n*k.heightRatio;return this.twinkle(new h(w,t,v,q,m),o)},this.stopAtElements=function(m,q){var p=this,l=d.extend({},c,q),i=(l.delay,d(m)),k=i.size();return i.each(function(s){var n=this,o=d.extend({},q);s!==k-1&&delete o.callback,p.stopAtElement(n,o)}),this}},b=new f;g("twinkle",{statics:{twinkle:function(k,l,m,a){return b.twinkle(new h(0,0,k,l,m),a),this},add:function(a){return b.add(a),this},remove:function(a){return b.remove(a),this}},methods:{twinkle:function(a){return b.twinkleAtElements(this,a),this},stop:function(a){return b.stopAtElements(this,a),this}},defaultStatic:"twinkle",defaultMethod:"twinkle"})}(jQuery),function(d){var h=function(a){return a.stopImmediatePropagation(),a.preventDefault(),!1},k=function(p,t,m,e){var w,y=function(){w.remove(),e instanceof Function&&e()},x=function(){w.animate({left:t.position.left-m.radius,top:t.position.top-m.radius,width:2*m.radius,height:2*m.radius,opacity:0},0.5*m.duration,"linear",y)},v=function(){w=d("<div />").css(p).bind("click dblclick mousedown mouseenter mouseover mousemove",h),d(t.element).after(w),w.animate({left:t.position.left-0.5*m.radius,top:t.position.top-0.5*m.radius,width:m.radius,height:m.radius,opacity:1},0.5*m.duration,"linear",x)},q=function(){};return v(),{stop:q}},c={color:"rgba(255,0,0,0.5)",radius:300,duration:1000},j=function(){this.id="splash-css",this.run=function(n,p,m){var i=d.extend({},c,p),l={position:"absolute",zIndex:1000,display:"block",borderRadius:i.radius,backgroundColor:i.color,boxShadow:"0 0 30px "+i.color,left:n.position.left,top:n.position.top,width:0,height:0,opacity:0.4};k(l,n,i,m)}},g={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2,count:3,delay:300},b=function(){this.id="drops-css",this.run=function(t,q,v){var n,r=d.extend({},g,q),p={position:"absolute",zIndex:1000,display:"block",borderRadius:r.radius,border:r.width+"px solid "+r.color,left:t.position.left,top:t.position.top,width:0,height:0,opacity:0.4},w=function(e,a){setTimeout(function(){k(p,t,r,a)},e)},m=0;for(n=0;n<r.count;n+=1){w(m,n===r.count-1?v:void 0),m+=r.delay}}},f=function(){var a=new b;this.id="drop-css",this.run=function(m,e,l){a.run(m,d.extend(e,{count:1}),l)}};d.twinkle.add(new j).add(new f).add(new b)}(jQuery),function(a){var b={};b.Interpolator=function(d){var f,h=function(k){var l,m=1/(k.length-1),j=[];for(l=0;l<k.length;l+=1){j.push({x:m*l,y:k[l]})}return j},c=function(k,l,p){var j=(l.y-k.y)/(l.x-k.x),m=k.y+j*(p-k.x);return m},g=function(j){var l,e,k;for(l=1;l<f.length;l+=1){if(e=f[l-1],k=f[l],j>=e.x&&j<=k.x){return[e,k]}}return void 0};f=h(d),this.get=function(i){var j;return i=Math.max(0,Math.min(1,i)),j=g(i),c(j[0],j[1],i)}},b.Interpolator.scale=function(c,d,f){return d=d||1,f=f||0,c=(c-f)/d,c>=0&&1>=c?c:void 0},function(){var c=function(d){var f=d.getContext();f.beginPath(),this.fill=function(e){return f.fillStyle=e,f.fill(),d},this.stroke=function(g,e){return f.lineWidth=g,f.strokeStyle=e,f.stroke(),d},this.draw=function(h,j,g){return this.fill(g),this.stroke(h,j),d},this.circle=function(g,h,e){return f.arc(g,h,e,0,2*Math.PI,!1),this}};b.Ctx=function(d){if(!d||!d.canvas){return void 0}if(!(this instanceof b.Ctx)){return new b.Ctx(d)}var f=a(d.canvas).width(),e=a(d.canvas).height();this.getContext=function(){return d},this.getWidth=function(){return f},this.getHeight=function(){return e},this.clear=function(){return this.resetTransform(),d.clearRect(0,0,f,e),this},this.resetTransform=function(){return d.setTransform(1,0,0,1,0,0),this},this.translate=function(g,h){return d.translate(g,h),this},this.rotate=function(g){return d.rotate(Math.PI*g/180),this},this.opacity=function(g){return d.globalAlpha=g,this},this.path=function(){return new c(this)}}}(),b.CanvasEffect=function(f,h,e,d,k){if(!(this instanceof b.CanvasEffect)){return new b.CanvasEffect(f,h,e,d,k)}var p=f.element,m=f.position.left,j=f.position.top,g={position:"absolute",zIndex:1000,display:"block",left:m-0.5*h,top:j-0.5*e,width:h,height:e};this.run=function(l,z){var t,s,r,o=l/1000*z,i=1/o,q=function(c){setTimeout(function(){s&&d({ctx:s,frac:c,millis:l*c})},l*c)},y=function(){t.remove(),t=void 0,s=void 0,k instanceof Function&&k()},x=function(c){return c.stopImmediatePropagation(),c.preventDefault(),!1};for(t=a("<canvas />").attr("width",h).attr("height",e).css(g),a(p).after(t),t.bind("click dblclick mousedown mouseenter mouseover mousemove",x),s=new b.Ctx(t.get(0).getContext("2d")),r=0;o>=r;r+=1){q(r*i)}setTimeout(y,l)}},function(){var d={color:"rgba(255,0,0,0.5)",radius:300,duration:1000},c=function(){this.id="splash",this.run=function(h,m,k){var f=a.extend({},d,m),j=2*f.radius,g=new b.Interpolator([0.4,1,0]),n=new b.Interpolator([0,f.radius]),e=function(o){var p=n.get(o.frac),q=g.get(o.frac),l=o.ctx;l.clear().opacity(q).path().circle(0.5*l.getWidth(),0.5*l.getHeight(),p).fill(f.color)};new b.CanvasEffect(h,j,j,e,k).run(f.duration,25)}};a.twinkle.add(new c)}(),function(){var d={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2},c=function(){this.id="drop",this.run=function(h,m,k){var f=a.extend({},d,m),j=2*f.radius,g=new b.Interpolator([0.4,1,0]),n=new b.Interpolator([0,f.radius]),e=function(o){var p=n.get(o.frac),q=g.get(o.frac),l=o.ctx;l.clear().opacity(q).path().circle(0.5*l.getWidth(),0.5*l.getHeight(),p).stroke(f.width,f.color)};new b.CanvasEffect(h,j,j,e,k).run(f.duration,25)}};a.twinkle.add(new c)}(),function(){var d={color:"rgba(255,0,0,0.5)",radius:300,duration:1000,width:2,count:3,delay:100},c=function(){this.id="drops",this.run=function(j,g,e){var p=a.extend({},d,g),t=2*p.radius,q=new b.Interpolator([0.4,1,0]),n=new b.Interpolator([0,p.radius]),h=(p.duration-(p.count-1)*p.delay)/p.duration,m=p.delay/p.duration,k=function(u){var A,l,z,x,w=u.ctx,y=w.getWidth(),v=w.getHeight();for(w.clear(),A=0;A<p.count;A+=1){l=b.Interpolator.scale(u.frac,h,m*A),void 0!==l&&(z=n.get(l),x=q.get(l),w.opacity(x).path().circle(0.5*y,0.5*v,z).stroke(p.width,p.color))}};new b.CanvasEffect(j,t,t,k,e).run(p.duration,25)}};a.twinkle.add(new c)}(),function(){var d={color:"rgba(255,0,0,0.5)",radius:100,duration:3000},c=function(){this.id="pulse",this.run=function(h,m,k){var f=a.extend({},d,m),j=2*f.radius,g=new b.Interpolator([0,1,0.6,1,0.6,1,0]),n=new b.Interpolator([0,f.radius,0.6*f.radius,f.radius,0.6*f.radius,f.radius,0]),e=function(o){var p=n.get(o.frac),q=g.get(o.frac),l=o.ctx;l.clear().opacity(q).path().circle(0.5*l.getWidth(),0.5*l.getHeight(),p).fill(f.color)};new b.CanvasEffect(h,j,j,e,k).run(f.duration,25)}};a.twinkle.add(new c)}(),function(){var d={color:"rgba(255,0,0,0.5)",radius:100,duration:3000,satellites:10,satellitesRadius:10,circulations:1.5},c=function(){this.id="orbit",this.run=function(h,f,e){var m=a.extend({},d,f),p=2*m.radius,n=new b.Interpolator([0.4,1,1,0.4]),k=m.radius-m.satellitesRadius,g=new b.Interpolator([0,k,k,0]),j=function(z){var w,u,v,q,l=g.get(z.frac),A=n.get(z.frac),y=2*Math.PI*m.circulations*z.frac,x=z.ctx;for(x.clear().opacity(A).translate(0.5*x.getWidth(),0.5*x.getHeight()),w=x.path(),u=0;u<m.satellites;u+=1){y+=2*Math.PI/m.satellites,v=Math.cos(y)*l,q=Math.sin(y)*l,w.circle(v,q,m.satellitesRadius)}w.fill(m.color)};new b.CanvasEffect(h,p,p,j,e).run(m.duration,25)}};a.twinkle.add(new c)}()}(jQuery);var currentPage=0;var furthestPage=0;var pages=["#year","#course","#semester","#courses","#result"];$(document).ready(function(){function a(c,b){if(currentPage>=4){return true}if(currentPage==3){c.find("form").submit(function(f){var d="ajax.php"+$(this).attr("action");b.load(d,$(this).serializeArray(),function(){a($(this),$(pages[currentPage+1]))});furthestPage=currentPage+1;$("#wizard").steps("next");f.preventDefault()});return true}c.find("a").each(function(){$(this).click(function(f){var d="ajax.php"+$(this).attr("href");b.load(d,function(){a($(this),$(pages[currentPage+1]))});furthestPage=currentPage+1;$("#wizard").steps("next");f.preventDefault()})})}$("#year").load("ajax.php",function(){a($(pages[0]),$(pages[1]))});$("body").on("click","#tickall",function(){$(this).parent().find(":checkbox").prop("checked","checked")}).on("click","#clear",function(){$(this).parent().find(":checkbox").prop("checked","")})});$("#wizard").steps({headerTag:"h1",bodyTag:"section",transitionEffect:"slideLeft",labels:{finish:"Download"},onStepChanging:function(c,a,b){if(b>furthestPage){return false}return true},onStepChanged:function(b,a,c){currentPage=a;if(currentPage>furthestPage){furthestPage=a}if(a==4){$('#wizard a[href="#finish"]').twinkle()}},onFinishing:function(b,a){var c="ajax.php?page=6";$.ajax({type:"HEAD",url:c}).done(function(f,h,e){var g="text/calendar";if(e.getResponseHeader("Content-Type")){var d=e.getResponseHeader("Content-Type");if(d.toLowerCase().substring(0,g.length)==g){$(pages[4]).fadeOut(function(){$(this).load("ajax.php?page=7",function(){$(this).fadeIn();window.location.href=c})})}else{alert("Server error while building calendar. Please try again.")}}else{alert("Server error while building calendar. Please try again.")}}).fail(function(d,f,e){alert("Unexpected HTTP error on download request. "+e)});return true}});